# Issue #50: CLI Architectureç½å®³ - åˆ†æçµæœ

## ğŸ” ç¾çŠ¶åˆ†æï¼ˆ350è¡Œã®God Classï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«**: `src/cli.ts` (350è¡Œ)
**å•é¡Œ**: Single Responsibility Principleå®Œå…¨é•å

### ğŸš¨ ç¢ºèªã•ã‚ŒãŸè²¬ä»»ã®æ··åœ¨ï¼ˆ8ã¤ã®è²¬ä»»ï¼‰

1. **CLIå¼•æ•°è§£æ** (line 135-154)
   - Commander.jsã‚’ä½¿ã£ãŸå¼•æ•°å®šç¾©
   - ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²ã¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š

2. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½** (line 18-85)
   - `validateProjectName()` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåæ¤œè¨¼
   - `validateLanguage()` - è¨€èªã‚³ãƒ¼ãƒ‰æ¤œè¨¼
   - `validateOutputFormat()` - å‡ºåŠ›å½¢å¼æ¤œè¨¼
   - `validateOutputDirectory()` - ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ‘ã‚¹æ¤œè¨¼
   - `validateConflictResolution()` - ç«¶åˆè§£æ±ºæˆ¦ç•¥æ¤œè¨¼

3. **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯** (line 109-131, 155-248)
   - `shouldUseInteractiveMode()` - ãƒ¢ãƒ¼ãƒ‰åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
   - ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆåˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯
   - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½åˆ¶å¾¡

4. **UI/ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³** (line 213-281)
   - ãƒ­ã‚®ãƒ³ã‚°ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
   - è­¦å‘Šãƒ»æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ãƒ’ãƒ³ãƒˆè¡¨ç¤º

5. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°** (line 285-305, 310-325, 335-340)
   - SecurityErrorã®ç‰¹åˆ¥å‡¦ç†
   - ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã®ä¾‹å¤–å‡¦ç†
   - ä¸€èˆ¬çš„ãªã‚¨ãƒ©ãƒ¼å‡¦ç†

6. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‡¦ç†** (line 156)
   - `PathValidator.validateCliPath()` å®Ÿè¡Œ

7. **è¨­å®šç®¡ç†** (line 89-108, 156-260)
   - InitOptionsã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
   - è¨­å®šå€¤ã®çµ±åˆã¨å‡¦ç†

8. **ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œåˆ¶å¾¡** (line 213-248)
   - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…
   - ãƒ•ã‚©ãƒ¼ã‚¹ãƒ¢ãƒ¼ãƒ‰è­¦å‘Š

## ğŸ—ï¸ å¿…è¦ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é›¢

### Command Patternå®Ÿè£…
```
src/cli/
â”œâ”€â”€ commands/
â”‚   â”œâ”€â”€ InitCommand.ts        # init ã‚³ãƒãƒ³ãƒ‰
â”‚   â”œâ”€â”€ StatusCommand.ts      # status ã‚³ãƒãƒ³ãƒ‰
â”‚   â””â”€â”€ HelpCommand.ts        # help-interactive ã‚³ãƒãƒ³ãƒ‰
â”œâ”€â”€ validators/
â”‚   â”œâ”€â”€ ProjectNameValidator.ts
â”‚   â”œâ”€â”€ LanguageValidator.ts
â”‚   â”œâ”€â”€ OutputFormatValidator.ts
â”‚   â””â”€â”€ PathValidator.ts
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ ModeDetectionService.ts
â”‚   â””â”€â”€ FileGenerationService.ts
â”œâ”€â”€ presenters/
â”‚   â””â”€â”€ CliPresenter.ts
â””â”€â”€ registry.ts
```

### TDDå®Ÿè£…æˆ¦ç•¥
1. å„ãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼å˜ä½“ãƒ†ã‚¹ãƒˆä½œæˆ
2. Command PatternåŸºç›¤ãƒ†ã‚¹ãƒˆ
3. æ®µéšçš„ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿè¡Œ

## ğŸ“Š ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- **ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«**: 350è¡Œï¼ˆç›®æ¨™: <100è¡Œï¼‰
- **è²¬ä»»æ•°**: 8å€‹ï¼ˆç›®æ¨™: 1å€‹ï¼‰
- **å¾ªç’°è¤‡é›‘åº¦**: é«˜ï¼ˆç›®æ¨™: ä½ï¼‰
- **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£**: ä¸å¯ï¼ˆç›®æ¨™: å®Œå…¨å˜ä½“ãƒ†ã‚¹ãƒˆå¯èƒ½ï¼‰

## âš ï¸ é©å½“åº¦: 1/10
ã“ã®åˆ†æã¯å®Œç’§ã§ã™ã€‚å•é¡Œç®‡æ‰€ã‚’å…·ä½“çš„ã«ç‰¹å®šã—ã€è§£æ±ºæˆ¦ç•¥ã‚’æ˜ç¢ºåŒ–ã—ã¾ã—ãŸã€‚