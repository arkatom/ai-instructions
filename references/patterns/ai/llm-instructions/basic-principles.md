# LLMカスタムインストラクション 基本原則

効果的なカスタムインストラクション設計の基本。

## 構成要素

```markdown
1. **ロール定義** - AIのペルソナと専門性
2. **コンテキスト** - 背景情報と制約
3. **タスク説明** - 具体的な目標
4. **出力形式** - 応答フォーマット
5. **例示** - Few-shot例
6. **制約事項** - 避けるべき行動
```

## 効果的な構造

```markdown
# Role
専門家としての役割を明確に定義

# Context
- プロジェクト情報
- 技術スタック
- チーム構成

# Task
具体的で測定可能な目標

# Output Format
期待する出力の形式

# Constraints
- 必須要件
- 禁止事項
```

## 明確性の原則

```markdown
❌ 悪い例：
「コードを改善してください」

✅ 良い例：
「以下の観点でTypeScriptコードを改善：
1. 型安全性の向上
2. エラーハンドリング追加
3. パフォーマンス最適化」
```

## 具体性の原則

```markdown
❌ 曖昧：
「良いコードを書く」

✅ 具体的：
「SOLID原則に従い、単体テスト可能な
関数型プログラミングスタイルで実装」
```

## 段階的指示

```markdown
# Step-by-Step Instructions
1. 問題を分析
2. 解決策を3つ提案
3. 各案のトレードオフ評価
4. 最適解を選択し実装
5. テストケース作成
```

## コンテキスト管理

```markdown
# Session Context
- 前提条件を明確化
- 継続的な文脈維持
- 状態の明示的管理

# Example
「前回議論した認証システムの続きとして、
権限管理機能を追加」
```

## トークン効率

```markdown
# 簡潔な指示（推奨）
Role: Senior React Developer
Task: Review code for performance
Focus: Rendering optimization

# 冗長な指示（避ける）
あなたは経験豊富なReact開発者として...（長文）
```

## ヒント
- 簡潔明瞭を心がける
- 測定可能な成果を定義
- 例示で曖昧さを排除